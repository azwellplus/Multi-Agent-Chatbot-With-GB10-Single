{"timestamp": "2025-12-02T05:52:08.537455Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T05:52:10.439123Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T05:52:10.445813Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T06:11:45.625816Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T06:11:47.756664Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T06:11:47.763714Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T06:14:24.201808Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T06:20:00.374293Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T06:20:02.348311Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T06:20:02.354922Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T06:20:46.488258Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Retrieved image data for image_id: efef3641-0133-4508-8c10-73b64b2639bf, data length: 404759"}
{"timestamp": "2025-12-02T06:20:46.488343Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] image_data preview: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QOdaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8eDp4b..."}
{"timestamp": "2025-12-02T06:20:46.488387Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: True"}
{"timestamp": "2025-12-02T06:22:10.747774Z", "level": "INFO", "logger": "backend", "message": "API request to /ingest", "endpoint": "/ingest", "request_data": {"file_count": 1}}
{"timestamp": "2025-12-02T06:22:10.752450Z", "level": "INFO", "logger": "backend", "message": "API response from /ingest", "endpoint": "/ingest", "status_code": 200, "response_data": {"message": "Files queued for processing. Indexing 1 files in the background.", "files": ["nvidia-rtx-blackwell-gpu-architecture.pdf"], "status": "queued", "task_id": "8571cfb8-5b30-472c-9bfc-dbbf13a9bec0"}}
{"timestamp": "2025-12-02T06:22:10.758995Z", "level": "INFO", "logger": "backend", "message": "Processing 1 files: ['uploads/8571cfb8-5b30-472c-9bfc-dbbf13a9bec0/nvidia-rtx-blackwell-gpu-architecture.pdf']"}
{"timestamp": "2025-12-02T06:22:10.759059Z", "level": "INFO", "logger": "backend", "message": "Using filename as source: nvidia-rtx-blackwell-gpu-architecture.pdf"}
{"timestamp": "2025-12-02T06:22:10.759111Z", "level": "INFO", "logger": "backend", "message": "Loading file: uploads/8571cfb8-5b30-472c-9bfc-dbbf13a9bec0/nvidia-rtx-blackwell-gpu-architecture.pdf"}
{"timestamp": "2025-12-02T06:22:10.759152Z", "level": "INFO", "logger": "backend", "message": "File extension: .pdf"}
{"timestamp": "2025-12-02T06:22:12.893367Z", "level": "ERROR", "logger": "backend", "message": "error with unstructured loader, trying to load from scratch"}
{"timestamp": "2025-12-02T06:22:12.893403Z", "level": "INFO", "logger": "backend", "message": "Attempting PyPDF text extraction fallback"}
{"timestamp": "2025-12-02T06:22:13.567282Z", "level": "INFO", "logger": "backend", "message": "Total documents loaded: 1"}
{"timestamp": "2025-12-02T06:23:07.180795Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T06:23:11.216978Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] explain_image tool called"}
{"timestamp": "2025-12-02T06:23:11.217020Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] state.get(\"image_data\") exists: False"}
{"timestamp": "2025-12-02T06:23:11.217038Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] tool_call args: {'query': '\uc774 \uc774\ubbf8\uc9c0\uc5d0 \ubcf4\uc774\ub294 GB100\uc5d0 \ub300\ud55c \uc124\uba85\uc744 \uc81c\uacf5\ud574 \uc8fc\uc138\uc694.', 'image': 'uploaded_image'}"}
{"timestamp": "2025-12-02T06:23:11.217074Z", "level": "WARNING", "logger": "backend", "message": "[IMAGE_DEBUG] No image_data in state! Calling tool without image"}
{"timestamp": "2025-12-02T06:23:11.659210Z", "level": "ERROR", "logger": "backend", "message": "Error executing tool explain_image: Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: uploaded_image", "exception": {"type": "ToolException", "message": "Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: uploaded_image", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/agent.py\", line 252, in tool_node\n    tool_result = await self.tools_by_name[tool_call[\"name\"]].ainvoke(tool_call[\"args\"])\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/structured.py\", line 66, in ainvoke\n    return await super().ainvoke(input, config, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 620, in ainvoke\n    return await self.arun(tool_input, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 1008, in arun\n    raise error_to_raise\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 977, in arun\n    response = await coro_with_context(coro, context)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/structured.py\", line 120, in _arun\n    return await self.coroutine(*args, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_mcp_adapters/tools.py\", line 132, in call_tool\n    return _convert_call_tool_result(call_tool_result)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_mcp_adapters/tools.py\", line 53, in _convert_call_tool_result\n    raise ToolException(tool_content)\n", "langchain_core.tools.base.ToolException: Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: uploaded_image\n"]}}
{"timestamp": "2025-12-02T06:23:35.189748Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T06:24:01.937616Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T06:25:09.940676Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T06:25:11.952377Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Calling tool: web_search with args: {'query': '\uc5d0\uc988\uc6f0\uc5d0\uc774\uc544\uc774', 'num_results': 10}"}
{"timestamp": "2025-12-02T06:25:13.590294Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Tool web_search returned result type: <class 'str'>, length: 1620"}
{"timestamp": "2025-12-02T06:26:53.681182Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Retrieved image data for image_id: ebdfbf91-cf46-4073-8c24-3d16bfe094b1, data length: 409279"}
{"timestamp": "2025-12-02T06:26:53.681256Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] image_data preview: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QOdaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8eDp4b..."}
{"timestamp": "2025-12-02T06:26:53.681299Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: True"}
{"timestamp": "2025-12-02T06:26:58.045201Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] explain_image tool called"}
{"timestamp": "2025-12-02T06:26:58.045237Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] state.get(\"image_data\") exists: True"}
{"timestamp": "2025-12-02T06:26:58.045254Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] image_data preview: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QOdaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8eDp4b..."}
{"timestamp": "2025-12-02T06:26:58.045282Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] tool_call args: {'query': 'Analyze the content of the image', 'image': 'http://192.168.108.31:8000/chat_images/ebdfbf91-cf46-4073-8c24-3d16bfe094b1.jpeg'}"}
{"timestamp": "2025-12-02T06:26:58.045297Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Injecting image_data into tool args"}
{"timestamp": "2025-12-02T06:26:58.671001Z", "level": "ERROR", "logger": "backend", "message": "Error executing tool explain_image: Error executing tool explain_image: Failed to process image with vision model: Error code: 404 - {'detail': 'Not Found'}", "exception": {"type": "ToolException", "message": "Error executing tool explain_image: Failed to process image with vision model: Error code: 404 - {'detail': 'Not Found'}", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/agent.py\", line 248, in tool_node\n    tool_result = await self.tools_by_name[tool_call[\"name\"]].ainvoke(tool_args)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/structured.py\", line 66, in ainvoke\n    return await super().ainvoke(input, config, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 620, in ainvoke\n    return await self.arun(tool_input, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 1008, in arun\n    raise error_to_raise\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 977, in arun\n    response = await coro_with_context(coro, context)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/structured.py\", line 120, in _arun\n    return await self.coroutine(*args, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_mcp_adapters/tools.py\", line 132, in call_tool\n    return _convert_call_tool_result(call_tool_result)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_mcp_adapters/tools.py\", line 53, in _convert_call_tool_result\n    raise ToolException(tool_content)\n", "langchain_core.tools.base.ToolException: Error executing tool explain_image: Failed to process image with vision model: Error code: 404 - {'detail': 'Not Found'}\n"]}}
{"timestamp": "2025-12-02T06:29:56.196928Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T06:29:58.131673Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T06:29:58.146650Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T06:35:08.287207Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T06:35:17.340973Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Calling tool: web_search with args: {'query': 'GB200', 'num_results': 10}"}
{"timestamp": "2025-12-02T06:35:21.609945Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Tool web_search returned result type: <class 'str'>, length: 2092"}
{"timestamp": "2025-12-02T06:38:53.545870Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T06:39:06.160579Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] explain_image tool called"}
{"timestamp": "2025-12-02T06:39:06.160622Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] state.get(\"image_data\") exists: False"}
{"timestamp": "2025-12-02T06:39:06.160641Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] tool_call args: {'query': 'NVIDIA GB200 \ubb38\uc11c \ub0b4\uc6a9', 'image': 'uploaded_image.png'}"}
{"timestamp": "2025-12-02T06:39:06.161413Z", "level": "WARNING", "logger": "backend", "message": "[IMAGE_DEBUG] No image_data in state! Calling tool without image"}
{"timestamp": "2025-12-02T06:39:07.277979Z", "level": "ERROR", "logger": "backend", "message": "Error executing tool explain_image: Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: uploaded_image.png", "exception": {"type": "ToolException", "message": "Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: uploaded_image.png", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/agent.py\", line 252, in tool_node\n    tool_result = await self.tools_by_name[tool_call[\"name\"]].ainvoke(tool_call[\"args\"])\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/structured.py\", line 66, in ainvoke\n    return await super().ainvoke(input, config, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 620, in ainvoke\n    return await self.arun(tool_input, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 1008, in arun\n    raise error_to_raise\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 977, in arun\n    response = await coro_with_context(coro, context)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/structured.py\", line 120, in _arun\n    return await self.coroutine(*args, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_mcp_adapters/tools.py\", line 132, in call_tool\n    return _convert_call_tool_result(call_tool_result)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_mcp_adapters/tools.py\", line 53, in _convert_call_tool_result\n    raise ToolException(tool_content)\n", "langchain_core.tools.base.ToolException: Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: uploaded_image.png\n"]}}
{"timestamp": "2025-12-02T06:39:11.659279Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] explain_image tool called"}
{"timestamp": "2025-12-02T06:39:11.659316Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] state.get(\"image_data\") exists: False"}
{"timestamp": "2025-12-02T06:39:11.659969Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] tool_call args: {'query': 'NVIDIA GB200 \ubb38\uc11c \ub0b4\uc6a9', 'image': 'file'}"}
{"timestamp": "2025-12-02T06:39:11.660003Z", "level": "WARNING", "logger": "backend", "message": "[IMAGE_DEBUG] No image_data in state! Calling tool without image"}
{"timestamp": "2025-12-02T06:39:12.111331Z", "level": "ERROR", "logger": "backend", "message": "Error executing tool explain_image: Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: file", "exception": {"type": "ToolException", "message": "Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: file", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/agent.py\", line 252, in tool_node\n    tool_result = await self.tools_by_name[tool_call[\"name\"]].ainvoke(tool_call[\"args\"])\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/structured.py\", line 66, in ainvoke\n    return await super().ainvoke(input, config, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 620, in ainvoke\n    return await self.arun(tool_input, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 1008, in arun\n    raise error_to_raise\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 977, in arun\n    response = await coro_with_context(coro, context)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/structured.py\", line 120, in _arun\n    return await self.coroutine(*args, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_mcp_adapters/tools.py\", line 132, in call_tool\n    return _convert_call_tool_result(call_tool_result)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_mcp_adapters/tools.py\", line 53, in _convert_call_tool_result\n    raise ToolException(tool_content)\n", "langchain_core.tools.base.ToolException: Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: file\n"]}}
{"timestamp": "2025-12-02T06:40:08.810226Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T06:40:13.053243Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Calling tool: search_documents with args: {'query': 'GB200'}"}
{"timestamp": "2025-12-02T06:40:22.965148Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Tool search_documents returned result type: <class 'str'>, length: 187"}
{"timestamp": "2025-12-02T06:40:27.225906Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Calling tool: web_search with args: {'query': 'NVIDIA GB200', 'num_results': 5}"}
{"timestamp": "2025-12-02T06:40:29.702305Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Tool web_search returned result type: <class 'str'>, length: 836"}
{"timestamp": "2025-12-02T06:48:47.373867Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T06:48:49.885720Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Calling tool: search_documents with args: {'query': 'NVIDIA GPU'}"}
{"timestamp": "2025-12-02T06:49:09.871065Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Tool search_documents returned result type: <class 'str'>, length: 1697"}
{"timestamp": "2025-12-02T06:51:26.995777Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Retrieved image data for image_id: ae91ad9c-c9ac-4c2e-b320-a4d8743cc081, data length: 404759"}
{"timestamp": "2025-12-02T06:51:26.995860Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] image_data preview: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QOdaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8eDp4b..."}
{"timestamp": "2025-12-02T06:51:26.995902Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: True"}
{"timestamp": "2025-12-02T06:51:30.573071Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] explain_image tool called"}
{"timestamp": "2025-12-02T06:51:30.573155Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] state.get(\"image_data\") exists: True"}
{"timestamp": "2025-12-02T06:51:30.573195Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] image_data preview: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QOdaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8eDp4b..."}
{"timestamp": "2025-12-02T06:51:30.573230Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] tool_call args: {'query': 'Analyze the content of the image', 'image': 'http://192.168.108.31:8000/chat_images/ae91ad9c-c9ac-4c2e-b320-a4d8743cc081.jpeg'}"}
{"timestamp": "2025-12-02T06:51:30.573262Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Injecting image_data into tool args"}
{"timestamp": "2025-12-02T07:03:50.227881Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T07:03:52.236476Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T07:03:52.243598Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T07:07:12.272538Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T07:07:17.027631Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Calling tool: web_search with args: {'query': 'GPU\ub780 \ubb34\uc5c7\uc778\uac00 GPU \uc5ed\uc0ac \uc8fc\uc694 \ud2b9\uc9d5 \ucd5c\uc2e0 \ub3d9\ud5a5', 'num_results': 5}"}
{"timestamp": "2025-12-02T07:07:20.596385Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Tool web_search returned result type: <class 'str'>, length: 1142"}
{"timestamp": "2025-12-02T07:13:39.534687Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T07:13:41.439562Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T07:13:41.446521Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T07:16:04.339586Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T07:16:06.350184Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T07:16:06.364768Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T07:17:58.645615Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T07:18:00.860791Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T07:18:00.867939Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T07:18:40.001109Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T07:19:04.457517Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T07:19:10.743601Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] explain_image tool called"}
{"timestamp": "2025-12-02T07:19:10.743646Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] state.get(\"image_data\") exists: False"}
{"timestamp": "2025-12-02T07:19:10.743664Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] tool_call args: {'query': 'Please summarize and explain the key points of the uploaded document about Blackwell.', 'image': 'blackwell_document'}"}
{"timestamp": "2025-12-02T07:19:10.743684Z", "level": "WARNING", "logger": "backend", "message": "[IMAGE_DEBUG] No image_data in state! Calling tool without image"}
{"timestamp": "2025-12-02T07:19:11.214835Z", "level": "ERROR", "logger": "backend", "message": "Error executing tool explain_image: Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: blackwell_document", "exception": {"type": "ToolException", "message": "Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: blackwell_document", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/agent.py\", line 252, in tool_node\n    tool_result = await self.tools_by_name[tool_call[\"name\"]].ainvoke(tool_call[\"args\"])\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/structured.py\", line 66, in ainvoke\n    return await super().ainvoke(input, config, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 620, in ainvoke\n    return await self.arun(tool_input, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 1008, in arun\n    raise error_to_raise\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/base.py\", line 977, in arun\n    response = await coro_with_context(coro, context)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_core/tools/structured.py\", line 120, in _arun\n    return await self.coroutine(*args, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_mcp_adapters/tools.py\", line 132, in call_tool\n    return _convert_call_tool_result(call_tool_result)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langchain_mcp_adapters/tools.py\", line 53, in _convert_call_tool_result\n    raise ToolException(tool_content)\n", "langchain_core.tools.base.ToolException: Error executing tool explain_image: Invalid image type -- could not be identified as a url or filepath: blackwell_document\n"]}}
{"timestamp": "2025-12-02T07:19:13.323536Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Calling tool: search_documents with args: {'query': 'Blackwell'}"}
{"timestamp": "2025-12-02T07:19:27.418395Z", "level": "INFO", "logger": "backend", "message": "[TOOL_DEBUG] Tool search_documents returned result type: <class 'str'>, length: 1230"}
{"timestamp": "2025-12-02T07:31:57.463941Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T07:31:57.784401Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 1 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:31:57.885614Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.1s (attempt 1/10)"}
{"timestamp": "2025-12-02T07:31:58.215701Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 2 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:31:58.417266Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.2s (attempt 2/10)"}
{"timestamp": "2025-12-02T07:31:58.686633Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 3 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:31:59.087351Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.4s (attempt 3/10)"}
{"timestamp": "2025-12-02T07:31:59.373963Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 4 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:32:00.174610Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.8s (attempt 4/10)"}
{"timestamp": "2025-12-02T07:32:00.461993Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 5 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:32:02.062747Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 1.6s (attempt 5/10)"}
{"timestamp": "2025-12-02T07:32:02.333353Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 6 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:32:05.534493Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 3.2s (attempt 6/10)"}
{"timestamp": "2025-12-02T07:32:05.819846Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 7 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:32:12.221877Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 6.4s (attempt 7/10)"}
{"timestamp": "2025-12-02T07:32:12.473998Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 8 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:32:25.275302Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 12.8s (attempt 8/10)"}
{"timestamp": "2025-12-02T07:32:25.560690Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 9 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:32:51.162246Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 25.6s (attempt 9/10)"}
{"timestamp": "2025-12-02T07:32:51.434782Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 10 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:32:51.434835Z", "level": "ERROR", "logger": "backend", "message": "MCP servers not ready after 10 attempts, continuing without MCP tools"}
{"timestamp": "2025-12-02T07:32:51.434857Z", "level": "WARNING", "logger": "backend", "message": "No MCP tools available - agent will run with limited functionality"}
{"timestamp": "2025-12-02T07:32:51.435002Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T07:32:51.442426Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T07:36:04.043551Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T07:36:04.329740Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 1 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:36:04.430201Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.1s (attempt 1/10)"}
{"timestamp": "2025-12-02T07:36:04.715069Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 2 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:36:04.915873Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.2s (attempt 2/10)"}
{"timestamp": "2025-12-02T07:36:05.180959Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 3 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:36:05.582738Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.4s (attempt 3/10)"}
{"timestamp": "2025-12-02T07:36:05.871004Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 4 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:36:06.672262Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.8s (attempt 4/10)"}
{"timestamp": "2025-12-02T07:36:06.983788Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 5 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:36:08.584825Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 1.6s (attempt 5/10)"}
{"timestamp": "2025-12-02T07:36:08.876486Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 6 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:36:12.077520Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 3.2s (attempt 6/10)"}
{"timestamp": "2025-12-02T07:36:12.350980Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 7 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:36:18.752762Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 6.4s (attempt 7/10)"}
{"timestamp": "2025-12-02T07:36:19.019844Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 8 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:36:31.821295Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 12.8s (attempt 8/10)"}
{"timestamp": "2025-12-02T07:36:32.169988Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 9 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:36:57.771482Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 25.6s (attempt 9/10)"}
{"timestamp": "2025-12-02T07:36:58.038551Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 10 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:36:58.038655Z", "level": "ERROR", "logger": "backend", "message": "MCP servers not ready after 10 attempts, continuing without MCP tools"}
{"timestamp": "2025-12-02T07:36:58.038709Z", "level": "WARNING", "logger": "backend", "message": "No MCP tools available - agent will run with limited functionality"}
{"timestamp": "2025-12-02T07:36:58.038985Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T07:36:58.053408Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T07:41:03.102358Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T07:41:05.042841Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T07:41:05.049464Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T07:41:47.165693Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T07:41:48.616238Z", "level": "ERROR", "logger": "backend", "message": "GRAPH: EXECUTION FAILED", "error": "Connection error.", "chat_id": "0de09a86-9a22-49f2-a44c-4e28a59423f9", "exception": {"type": "APIConnectionError", "message": "Connection error.", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_transports/default.py\", line 101, in map_httpcore_exceptions\n    yield\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_transports/default.py\", line 394, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_async/connection_pool.py\", line 256, in handle_async_request\n    raise exc from None\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_async/connection_pool.py\", line 236, in handle_async_request\n    response = await connection.handle_async_request(\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    raise exc\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_async/connection.py\", line 78, in handle_async_request\n    stream = await self._connect(request)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_async/connection.py\", line 124, in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_backends/auto.py\", line 31, in connect_tcp\n    return await self._backend.connect_tcp(\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_backends/anyio.py\", line 113, in connect_tcp\n    with map_exceptions(exc_map):\n", "  File \"/root/.local/share/uv/python/cpython-3.10.19-linux-aarch64-gnu/lib/python3.10/contextlib.py\", line 153, in __exit__\n    self.gen.throw(typ, value, traceback)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\n", "httpcore.ConnectError: [Errno -3] Temporary failure in name resolution\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/.venv/lib/python3.10/site-packages/openai/_base_client.py\", line 1526, in request\n    response = await self._client.send(\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_client.py\", line 1629, in send\n    response = await self._send_handling_auth(\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_client.py\", line 1657, in _send_handling_auth\n    response = await self._send_handling_redirects(\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_client.py\", line 1694, in _send_handling_redirects\n    response = await self._send_single_request(request)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_client.py\", line 1730, in _send_single_request\n    response = await transport.handle_async_request(request)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_transports/default.py\", line 393, in handle_async_request\n    with map_httpcore_exceptions():\n", "  File \"/root/.local/share/uv/python/cpython-3.10.19-linux-aarch64-gnu/lib/python3.10/contextlib.py\", line 153, in __exit__\n    self.gen.throw(typ, value, traceback)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_transports/default.py\", line 118, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\n", "httpx.ConnectError: [Errno -3] Temporary failure in name resolution\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/agent.py\", line 620, in query\n    await runner\n", "  File \"/app/agent.py\", line 652, in _run_graph\n    async for final_state in self.graph.astream(\n", "  File \"/app/.venv/lib/python3.10/site-packages/langgraph/pregel/main.py\", line 2926, in astream\n    async for _ in runner.atick(\n", "  File \"/app/.venv/lib/python3.10/site-packages/langgraph/pregel/_runner.py\", line 295, in atick\n    await arun_with_retry(\n", "  File \"/app/.venv/lib/python3.10/site-packages/langgraph/pregel/_retry.py\", line 137, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langgraph/_internal/_runnable.py\", line 693, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langgraph/_internal/_runnable.py\", line 457, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n", "  File \"/app/agent.py\", line 332, in generate\n    stream = await self.model_client.chat.completions.create(\n", "  File \"/app/.venv/lib/python3.10/site-packages/openai/resources/chat/completions/completions.py\", line 2454, in create\n    return await self._post(\n", "  File \"/app/.venv/lib/python3.10/site-packages/openai/_base_client.py\", line 1791, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n", "  File \"/app/.venv/lib/python3.10/site-packages/openai/_base_client.py\", line 1558, in request\n    raise APIConnectionError(request=request) from err\n", "openai.APIConnectionError: Connection error.\n"]}}
{"timestamp": "2025-12-02T07:43:46.117841Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T07:43:47.965410Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T07:43:47.972399Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T07:44:25.046133Z", "level": "INFO", "logger": "backend", "message": "[IMAGE_DEBUG] Calling agent.query with image_data: False"}
{"timestamp": "2025-12-02T07:44:26.287420Z", "level": "ERROR", "logger": "backend", "message": "GRAPH: EXECUTION FAILED", "error": "Connection error.", "chat_id": "0de09a86-9a22-49f2-a44c-4e28a59423f9", "exception": {"type": "APIConnectionError", "message": "Connection error.", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_transports/default.py\", line 101, in map_httpcore_exceptions\n    yield\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_transports/default.py\", line 394, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_async/connection_pool.py\", line 256, in handle_async_request\n    raise exc from None\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_async/connection_pool.py\", line 236, in handle_async_request\n    response = await connection.handle_async_request(\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    raise exc\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_async/connection.py\", line 78, in handle_async_request\n    stream = await self._connect(request)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_async/connection.py\", line 124, in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_backends/auto.py\", line 31, in connect_tcp\n    return await self._backend.connect_tcp(\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_backends/anyio.py\", line 113, in connect_tcp\n    with map_exceptions(exc_map):\n", "  File \"/root/.local/share/uv/python/cpython-3.10.19-linux-aarch64-gnu/lib/python3.10/contextlib.py\", line 153, in __exit__\n    self.gen.throw(typ, value, traceback)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\n", "httpcore.ConnectError: [Errno -3] Temporary failure in name resolution\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/.venv/lib/python3.10/site-packages/openai/_base_client.py\", line 1526, in request\n    response = await self._client.send(\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_client.py\", line 1629, in send\n    response = await self._send_handling_auth(\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_client.py\", line 1657, in _send_handling_auth\n    response = await self._send_handling_redirects(\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_client.py\", line 1694, in _send_handling_redirects\n    response = await self._send_single_request(request)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_client.py\", line 1730, in _send_single_request\n    response = await transport.handle_async_request(request)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_transports/default.py\", line 393, in handle_async_request\n    with map_httpcore_exceptions():\n", "  File \"/root/.local/share/uv/python/cpython-3.10.19-linux-aarch64-gnu/lib/python3.10/contextlib.py\", line 153, in __exit__\n    self.gen.throw(typ, value, traceback)\n", "  File \"/app/.venv/lib/python3.10/site-packages/httpx/_transports/default.py\", line 118, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\n", "httpx.ConnectError: [Errno -3] Temporary failure in name resolution\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/agent.py\", line 620, in query\n    await runner\n", "  File \"/app/agent.py\", line 652, in _run_graph\n    async for final_state in self.graph.astream(\n", "  File \"/app/.venv/lib/python3.10/site-packages/langgraph/pregel/main.py\", line 2926, in astream\n    async for _ in runner.atick(\n", "  File \"/app/.venv/lib/python3.10/site-packages/langgraph/pregel/_runner.py\", line 295, in atick\n    await arun_with_retry(\n", "  File \"/app/.venv/lib/python3.10/site-packages/langgraph/pregel/_retry.py\", line 137, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langgraph/_internal/_runnable.py\", line 693, in ainvoke\n    input = await step.ainvoke(input, config, **kwargs)\n", "  File \"/app/.venv/lib/python3.10/site-packages/langgraph/_internal/_runnable.py\", line 457, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n", "  File \"/app/agent.py\", line 332, in generate\n    stream = await self.model_client.chat.completions.create(\n", "  File \"/app/.venv/lib/python3.10/site-packages/openai/resources/chat/completions/completions.py\", line 2454, in create\n    return await self._post(\n", "  File \"/app/.venv/lib/python3.10/site-packages/openai/_base_client.py\", line 1791, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n", "  File \"/app/.venv/lib/python3.10/site-packages/openai/_base_client.py\", line 1558, in request\n    raise APIConnectionError(request=request) from err\n", "openai.APIConnectionError: Connection error.\n"]}}
{"timestamp": "2025-12-02T07:45:19.640541Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T07:45:21.488388Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T07:45:21.503052Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
{"timestamp": "2025-12-02T07:47:09.205473Z", "level": "INFO", "logger": "backend", "message": "PostgreSQL storage initialized successfully"}
{"timestamp": "2025-12-02T07:47:09.474590Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 1 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:47:09.575460Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.1s (attempt 1/10)"}
{"timestamp": "2025-12-02T07:47:09.836257Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 2 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:47:10.039377Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.2s (attempt 2/10)"}
{"timestamp": "2025-12-02T07:47:10.328544Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 3 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:47:10.729387Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.4s (attempt 3/10)"}
{"timestamp": "2025-12-02T07:47:10.988231Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 4 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:47:11.788653Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 0.8s (attempt 4/10)"}
{"timestamp": "2025-12-02T07:47:12.059057Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 5 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:47:13.660206Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 1.6s (attempt 5/10)"}
{"timestamp": "2025-12-02T07:47:13.907986Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 6 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:47:17.110723Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 3.2s (attempt 6/10)"}
{"timestamp": "2025-12-02T07:47:17.383261Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 7 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:47:23.784788Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 6.4s (attempt 7/10)"}
{"timestamp": "2025-12-02T07:47:24.049017Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 8 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:47:36.850026Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 12.8s (attempt 8/10)"}
{"timestamp": "2025-12-02T07:47:37.133096Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 9 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:48:02.734676Z", "level": "INFO", "logger": "backend", "message": "MCP servers not ready, retrying in 25.6s (attempt 9/10)"}
{"timestamp": "2025-12-02T07:48:02.994230Z", "level": "WARNING", "logger": "backend", "message": "MCP tools initialization attempt 10 failed: unhandled errors in a TaskGroup (1 sub-exception)"}
{"timestamp": "2025-12-02T07:48:02.994309Z", "level": "ERROR", "logger": "backend", "message": "MCP servers not ready after 10 attempts, continuing without MCP tools"}
{"timestamp": "2025-12-02T07:48:02.994380Z", "level": "WARNING", "logger": "backend", "message": "No MCP tools available - agent will run with limited functionality"}
{"timestamp": "2025-12-02T07:48:02.994646Z", "level": "INFO", "logger": "backend", "message": "Switched to model: gpt-oss-120b"}
{"timestamp": "2025-12-02T07:48:03.009045Z", "level": "INFO", "logger": "backend", "message": "ChatAgent initialized successfully."}
